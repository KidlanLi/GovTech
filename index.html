<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLIMATE UNDER SIEGE</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            overflow-x: hidden;
        }

        /* Fullscreen Intro Section */
        .fullscreen-section {
            position: relative;
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: url('assets/images/back_draft_1.png') no-repeat center center/cover;
            color: white;
            text-align: center;
        }

        .fullscreen-section h1 {
            font-size: 5rem;
            margin: 0;
            line-height: 1.2;
            font-weight: bold;
            text-transform: uppercase;
            text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.7), 0px 0px 20px rgba(255, 255, 255, 0.9);
        }

        .fullscreen-section h1 span {
            display: block;
            opacity: 0;
            transform: translateY(20px);
            animation: fade-in 2s ease-in-out forwards;
        }

        .fullscreen-section h1 span:nth-child(1) {
            animation-delay: 0s;
        }

        .fullscreen-section h1 span:nth-child(2) {
            animation-delay: 0.5s;
        }

        .fullscreen-section h1 span:nth-child(3) {
            animation-delay: 1s;
        }

        @keyframes fade-in {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Section Styles */
        .section {
            position: relative;
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            margin-bottom: 50px; /* Added margin to increase distance */
        }

        .image-frame {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            border: 10px solid white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            overflow: hidden;
        }

        .image-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .iframe-container {
            width: 100%;
            height: 100vh;
            display: flex; /* Flexbox for side-by-side layout */
            flex-direction: row;
            background-color: #f4f4f4; /* Optional background for the container */
            padding: 20px; /* Optional padding around the container */
            box-sizing: border-box; /* Include padding and border in dimensions */
        }

        .iframe-left {
            width: 70%; /* Left side occupies 70% width */
            height: 100%;
            border: 10px solid #ddd;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
        }

        .iframe-left iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .iframe-right {
            width: 30%; /* Right side occupies 30% width */
            height: 100%;
            margin-left: 20px; /* Spacing between left and right sections */
            background-color: white;
            border: 1px solid #ddd;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto; /* Enable scrolling if content overflows */
            box-sizing: border-box;
        }

        .iframe-right h2 {
            margin-top: 0;
            font-size: 1.5rem;
            color: #007BFF;
        }

        .iframe-right p {
            font-size: 1rem;
            line-height: 1.6;
            color: #333;
        }



        /* Small Text Box for CVI */
        .small-text-box {
            position: absolute;
            top: 5%;
            left: 5%;
            max-width: 200px;
            background: rgba(255, 255, 255, 0.8);
            color: black;
            padding: 0.8rem;
            border-radius: 8px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            line-height: 1.4;
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease, transform 1s ease;
        }

        .small-text-box.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Map Section Specific Styles */
        .map-section {
            position: relative;
            width: 100%;
            height: 110%;
            overflow: hidden;
        }

        .map-container {
            width: 100%;
            height: 100%;
        }

        .map-title-box {
            position: relative;
            width: 100%;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 10; /* Ensure it stays on top */
        }

        .map-title-box h2 {
            margin: 0;
            font-size: 2.5rem;
            color: black;
        }

        .map-title-box p {
            margin: 0.5rem 0 0;
            font-size: 1.3rem;
            line-height: 1.8;
            color: #555;
        }

        .flourish-embed {
            width: 100%;
            height: 100%;
        }

        /* Split Section Styles */
        .split-section {
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 100vh;
            align-items: center;
            padding: 2rem;
            position: relative;
        }

        .split-section .split {
            flex: 1;
            padding: 1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease, transform 1s ease;
        }

        .split-section .split h2 {
            font-size: 1.5rem;
            color: #007BFF;
            margin-bottom: 1rem;
        }

        .split-section .split img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            margin-top: 1rem;
        }

        .split-section .split.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Image Compare Section */
        #image-compare-section {
            text-align: center;
            padding: 20px;
            background-color: #f9f9f9;
        }

        #image-compare-section h2 {
            font-size: 2rem;
            color: #007BFF;
            margin-bottom: 10px;
        }

        #image-compare-section p {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 20px;
        }

        #image-compare {
            width: 80%;
            max-width: 800px;
            height: 400px;
            margin: auto;
            border: 1px solid #ddd;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }


    </style>
</head>
<body>
    <!-- First Section: Fullscreen Intro -->
    <div class="fullscreen-section">
        <h1>
            <span>CLIMATE</span>
            <span>UNDER</span>
            <span>SIEGE</span>
        </h1>
    </div>

    <!-- Second Section: CVI -->
    <!-- <div class="section">
        <div class="image-frame">
            <img src="assets/images/Ndgain.png" alt="CVI">
        </div>
        <div class="small-text-box" id="small-text-cvi">
            <h2>CVI</h2>
            <p>This is a small description box for CVI, providing additional information about the image.</p>
        </div>
    </div> -->

    <div class="map-section">
        <div class="map-title-box">
            <h2>ND-GAIN Climate Vulnerability Index 1995-2022</h2>
            <p>Notre Dame University created a global index to measure vulnerability to climate change based on</p>
            <p>water, food, infrastructure, ecosystem services, human habitat and health.</p>
            <p>A low index indicates high vulnerabillity.</p>
        </div>
        <div class="map-container">
            <div class="flourish-embed flourish-map" data-src="visualisation/21185716"><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/21185716/thumbnail" width="100%" alt="map visualization" /></noscript></div>
        </div>
    </div>    

    <!-- Third Section: Conflict Map -->
    <div class="map-section">
        <div class="map-title-box">
            <h2>Conflict data for the year 2021</h2>
            <p>ACLED (Armed Conflict Location & Event Data) is a conflict data collection initiative.</p>
            <p>For the purpose of our project, </p>
            <p>we understand conflict as the combination of events (such as protests, attacks, bombings) and fatalities.</p>
        </div>
        <div class="map-container">
            <div class="flourish-embed flourish-map" data-src="visualisation/21187311">
                <script src="https://public.flourish.studio/resources/embed.js"></script>
                <noscript>
                    <img src="https://public.flourish.studio/visualisation/21187311/thumbnail" width="100%" alt="map visualization" />
                </noscript>
            </div>
        </div>
    </div>

    <!-- Fourth Section -->
    <div class="split-section">
        <div class="split" id="split-left">
            <h2>Left Title</h2>
            <p>Placeholder text for the left section. Add more detailed content here, explaining the data or images shown.</p>

            <!-- Graph 1 -->
            <div class="flourish-embed flourish-chart" data-src="visualisation/21190503"><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/21190503/thumbnail" width="100%" alt="chart visualization" /></noscript></div>
            <!-- Graph 2 -->
            <div class="flourish-embed flourish-chart" data-src="visualisation/21190953"><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/21190953/thumbnail" width="100%" alt="chart visualization" /></noscript></div>

            <!-- 插入 HTML 内容 -->
            <div id="image-compare-section">
                <h2>Compare Before and After</h2>
                <p>Drag the slider to see the changes between the two images.</p>
                <div id="image-compare"></div>
            </div>


            <img src="assets/images/left-image.png" alt="Left Content">
        </div>
        <div class="split" id="split-right">
            <h2>Right Title</h2>
            <p>Placeholder text for the right section. Add more detailed content here, explaining the data or images shown.</p>
            <img src="assets/images/right-image.png" alt="Right Content">
        </div>
    </div>

    <!-- Fifth Section -->
    <div class="split-section">
        <div class="split" id="split-left-2">
            <h2>Left Title 2</h2>
            <p>Left side content for the fifth section goes here. Expand details as needed.</p>
            <img src="assets/images/left-image-2.png" alt="Left Content 2">
        </div>
        <div class="split" id="split-right-2">
            <h2>Right Title 2</h2>
            <p>Right side content for the fifth section goes here. Provide additional insights.</p>
            <img src="assets/images/right-image-2.png" alt="Right Content 2">
        </div>
    </div>

    <!-- Kepler.gl Section -->
    <div class="iframe-container">
        <div class="iframe-left">
            <iframe src="kepler.gl.html" title="Kepler.gl Visualization"></iframe>
        </div>
        <div class="iframe-right">
            <h2>Visualization Explanation</h2>
            <p>
                This Kepler.gl visualization represents the dynamic impact of climate change on various regions. 
                It allows users to explore datasets related to climate vulnerabilities, migration patterns, and other critical metrics.
                Use the map to zoom in and analyze region-specific data.
            </p>
        </div>
    </div>




    <script>
        const sections = document.querySelectorAll('.section, .split, .small-text-box');

        window.addEventListener('scroll', () => {
            sections.forEach((element) => {
                const rect = element.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.8 && rect.bottom > window.innerHeight * 0.2) {
                    element.classList.add('show');
                } else {
                    element.classList.remove('show');
                }
            });
        });
    </script>

    <script src="https://cdn.knightlab.com/libs/juxtapose/latest/js/juxtapose.min.js"></script>
    <script>
        // Initialize Juxtapose Slider
        new juxtapose.JXSlider('#image-compare', [
            {
                src: 'assets/images/before.png',
                label: 'Before'
            },
            {
                src: 'assets/images/after.png',
                label: 'After'
            }
        ],
        {
            animate: true, // Enable animation
            startingPosition: '50%', // Start slider in the middle
            showLabels: true, // Show "Before" and "After" labels
            mode: 'horizontal' // Horizontal sliding
        });
    </script>

</body>
</html>
